@using System.Collections.Generic
@using Busje_komt_zo.Classes.Model
@model System.Collections.Generic.List<Bus>

@{
    ViewData["Title"] = "Home Page";
}

@section header{
    <!--<meta http-equiv="refresh" content="30" />-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css"
          integrity="sha512-wcw6ts8Anuw10Mzh9Ytw4pylW8+NAD4ch3lqm9lzAsTxg0GFeJgoAtxuCLREZSC5lUXdVyo/7yfsqFjQ4S+aKw=="
          crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.1.0/dist/leaflet.js"
            integrity="sha512-mNqn2Wg7tSToJhvHcqfzLMU6J4mkOImSPTxVZAdo+lcPlk+GhZmYgACEe0x35K7YzW1zJ7XyJV/TT1MrdXvMcA=="
            crossorigin=""></script>
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
}

@{
    if (@Model != null && @Model.Count > 0)
    {

        <div>
            <table class="table table-bordered" id="statusTable">
                <tbody>
                </tbody>
            </table>
        </div>
        <div id="mapid" style="height: 500px;"></div>
        <script asp-src-include="js/map_settings.js"></script>


        <script>
            weba.bindPopup("<b>@ViewData["weba"]</b>");
            jacob.bindPopup("<b>@ViewData["jacob"]</b>");
            GetBusses();
            setInterval(GetBusses, 10 * 1000);
        </script>
    }
    else
    {
        <p>Er is geen actief busje gevonden.</p>
    }
}